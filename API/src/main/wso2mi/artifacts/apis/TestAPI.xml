<api xmlns="http://ws.apache.org/ns/synapse" name="TestAPI" context="/testapi">
    <resource methods="POST">
        <inSequence>
            <!-- Ensure JSON message format -->
            <property name="messageType" value="application/json" scope="axis2"/>
            <property name="NO_ENTITY_BODY" scope="axis2" action="remove"/>

            <!-- Store incoming JSON array -->
            <property name="originalPayload" scope="default" expression="json-eval($)" />

            <!-- Duplicate input array to 'extraCourses' -->
            <property name="extraCourses" scope="default" expression="json-eval($)" />

             <!-- Merge the arrays: originalPayload + extraCourses -->
             <log>
                <property name="mergedCourses" expression="concat($['originalPayload'], $['extraCourses'])"/>
            </log>

            <!-- Respond with the merged array -->
            <respond>
        </inSequence>
    </resource>
</api>
